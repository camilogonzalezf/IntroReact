{"ast":null,"code":"import _slicedToArray from\"/Users/user/INFORMACION/PLATZI/Curso_Introduccion_ReactJs/3_proyecto_todo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';function useLocalStorage(itemName,initialValue){var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),error=_React$useState4[0],setError=_React$useState4[1];var _React$useState5=React.useState(initialValue),_React$useState6=_slicedToArray(_React$useState5,2),item=_React$useState6[0],setItem=_React$useState6[1];React.useEffect(function(){setTimeout(function(){try{var localStorageItem=localStorage.getItem(itemName);var parsedItem;if(!localStorageItem){localStorage.setItem(itemName,JSON.stringify(initialValue));//CREA VARIABLE LOCAL\nparsedItem=initialValue;}else{parsedItem=JSON.parse(localStorageItem);}setItem(parsedItem);setLoading(false);}catch(error){setError(error);}},1000);});var saveItem=function saveItem(newItem){try{var stringifiedItem=JSON.stringify(newItem);localStorage.setItem(itemName,stringifiedItem);setItem(newItem);}catch(error){setError(error);}};return{item:item,saveItem:saveItem,loading:loading,error:error};}export{useLocalStorage};","map":{"version":3,"sources":["/Users/user/INFORMACION/PLATZI/Curso_Introduccion_ReactJs/3_proyecto_todo/src/TodoContext/useLocalStorage.js"],"names":["React","useLocalStorage","itemName","initialValue","useState","loading","setLoading","error","setError","item","setItem","useEffect","setTimeout","localStorageItem","localStorage","getItem","parsedItem","JSON","stringify","parse","saveItem","newItem","stringifiedItem"],"mappings":"4JAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,eAAT,CAAyBC,QAAzB,CAAoCC,YAApC,CAAkD,CAC9C,oBAA8BH,KAAK,CAACI,QAAN,CAAe,IAAf,CAA9B,oDAAOC,OAAP,qBAAgBC,UAAhB,qBACA,qBAA0BN,KAAK,CAACI,QAAN,CAAe,KAAf,CAA1B,qDAAOG,KAAP,qBAAcC,QAAd,qBACA,qBAAwBR,KAAK,CAACI,QAAN,CAAgBD,YAAhB,CAAxB,qDAAOM,IAAP,qBAAaC,OAAb,qBAEAV,KAAK,CAACW,SAAN,CAAgB,UAAK,CAEnBC,UAAU,CAAC,UAAM,CACf,GAAG,CACD,GAAMC,CAAAA,gBAAgB,CAAGC,YAAY,CAACC,OAAb,CAAqBb,QAArB,CAAzB,CACA,GAAIc,CAAAA,UAAJ,CACA,GAAG,CAACH,gBAAJ,CAAqB,CACnBC,YAAY,CAACJ,OAAb,CAAqBR,QAArB,CAA8Be,IAAI,CAACC,SAAL,CAAef,YAAf,CAA9B,EAA6D;AAC/Da,UAAU,CAAGb,YAAb,CACC,CAHD,IAGM,CACNa,UAAU,CAAGC,IAAI,CAACE,KAAL,CAAWN,gBAAX,CAAb,CACC,CACDH,OAAO,CAACM,UAAD,CAAP,CACAV,UAAU,CAAC,KAAD,CAAV,CACD,OAAMC,KAAN,CAAY,CACXC,QAAQ,CAACD,KAAD,CAAR,CACD,CACF,CAfS,CAeR,IAfQ,CAAV,CAiBD,CAnBD,EAqBA,GAAMa,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,OAAD,CAAa,CAC5B,GAAG,CACD,GAAMC,CAAAA,eAAe,CAAGL,IAAI,CAACC,SAAL,CAAeG,OAAf,CAAxB,CACAP,YAAY,CAACJ,OAAb,CAAqBR,QAArB,CAA8BoB,eAA9B,EACAZ,OAAO,CAACW,OAAD,CAAP,CACD,OAAMd,KAAN,CAAY,CACXC,QAAQ,CAACD,KAAD,CAAR,CACD,CACF,CARD,CAUA,MAAO,CACLE,IAAI,CAAJA,IADK,CAELW,QAAQ,CAARA,QAFK,CAGLf,OAAO,CAAPA,OAHK,CAILE,KAAK,CAALA,KAJK,CAAP,CAOD,CAED,OAASN,eAAT","sourcesContent":["import React from 'react';\n\nfunction useLocalStorage(itemName , initialValue) {\n    const [loading, setLoading] = React.useState(true);\n    const [error, setError] = React.useState(false); \n    const [item, setItem] = React.useState (initialValue);\n  \n    React.useEffect(() =>{\n  \n      setTimeout(() => {\n        try{\n          const localStorageItem = localStorage.getItem(itemName);\n          let parsedItem;\n          if(!localStorageItem){\n            localStorage.setItem(itemName,JSON.stringify(initialValue)); //CREA VARIABLE LOCAL\n          parsedItem = initialValue;\n          }else {\n          parsedItem = JSON.parse(localStorageItem);\n          }\n          setItem(parsedItem);\n          setLoading(false); \n        }catch(error){\n          setError(error); \n        }  \n      },1000);\n  \n    });\n  \n    const saveItem = (newItem) => {\n      try{\n        const stringifiedItem = JSON.stringify(newItem);\n        localStorage.setItem(itemName,stringifiedItem); \n        setItem(newItem);\n      }catch(error){\n        setError(error);\n      }  \n    }\n  \n    return {\n      item,\n      saveItem,\n      loading,\n      error,\n    };\n  \n  }\n\n  export { useLocalStorage };"]},"metadata":{},"sourceType":"module"}